{% extends "base.html" %}
{% set title = "Nota Space - Room Booking" %}

{% block content %}
<div class="page" data-page="room-booking">
  <div class="page-header">
    <div>
      <div class="page-eyebrow">Nota Space</div>
      <h1 class="page-title">회의실 예약</h1>
      <p class="page-subtitle">회의실 예약 현황을 한눈에 보고, 바로 예약하세요.</p>
    </div>
    <div class="ns-header-actions">
      <div class="ns-date">
        <label for="ns-date" class="form-label">날짜</label>
        <input id="ns-date" class="form-input" type="date" />
      </div>
      <a class="btn ns-btn-light" href="/nota-space/room-booking/list">예약 목록</a>
    </div>
  </div>

  <div class="ns-layout">
    <section class="ns-card">
      <div class="ns-card-header">
        <div class="ns-view-tabs">
          <button class="ns-view-btn is-active" type="button" data-view="daily">일간 보기</button>
          <button class="ns-view-btn" type="button" data-view="monthly">월간 보기</button>
        </div>
        <button class="btn ns-btn-light" id="ns-open-booking" type="button">+ 회의실 예약</button>
      </div>
      <div class="ns-view" id="ns-daily-view" data-view="daily">
        <div class="ns-timeline" id="ns-timeline"></div>
        <div class="ns-legend">
          <div class="ns-legend-item">
            <span class="ns-legend-swatch is-available"></span>
            Available (click to book)
          </div>
          <div class="ns-legend-item">
            <span class="ns-legend-swatch is-booked"></span>
            Booked
          </div>
        </div>
      </div>
      <div class="ns-view is-hidden" id="ns-monthly-view" data-view="monthly">
        <div class="ns-calendar" id="ns-calendar"></div>
      </div>
    </section>
  </div>

  <div class="ns-modal-overlay" id="ns-booking-overlay" aria-hidden="true"></div>
  <div class="ns-modal" id="ns-booking-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="ns-modal-header">
      <div>
        <div class="ns-modal-title">회의실 예약 만들기</div>
        <div class="ns-modal-subtitle">예약 정보를 입력하세요.</div>
      </div>
      <button class="ns-modal-close" id="ns-booking-close" type="button" aria-label="닫기">X</button>
    </div>
    <form id="ns-booking-form" class="form-stack">
      <label class="form-label" for="ns-room">회의실</label>
      <select id="ns-room" name="room_id" class="form-select" required></select>

      <label class="form-label" for="ns-booking-date">날짜</label>
      <input id="ns-booking-date" name="date" class="form-input" type="date" required />

      <div class="ns-time-row">
        <div>
          <label class="form-label" for="ns-start">시작 시간</label>
          <input id="ns-start" name="start_time" class="form-input" type="time" step="3600" required />
        </div>
        <div>
          <label class="form-label" for="ns-end">종료 시간</label>
          <input id="ns-end" name="end_time" class="form-input" type="time" step="3600" required />
        </div>
      </div>

      <label class="form-label" for="ns-agenda">회의 아젠다</label>
      <input id="ns-agenda" name="agenda" class="form-input" type="text" placeholder="회의 목적" required />

      <label class="form-label" for="ns-presenter">발표자</label>
      <input id="ns-presenter" name="presenter" class="form-input" type="text" placeholder="발표자 이름" required />

      <label class="form-label" for="ns-participants">참여자</label>
      <input id="ns-participants" name="participants" class="form-input" type="text" placeholder="이름을 콤마로 구분" required />

      <div class="ns-form-actions">
        <button class="btn ns-btn" type="submit">예약 등록</button>
      </div>
      <div class="ns-form-note" id="ns-booking-message"></div>
    </form>
  </div>

</div>

<script src="{{ url_for('static', filename='js/nota_space/nota_space.js') }}"></script>
{% endblock %}
